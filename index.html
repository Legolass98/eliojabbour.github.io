<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elio Jabbour | Robotics PhD</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;500;700&family=Inter:wght@300;400;600&family=Roboto+Mono:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body data-theme="orbital">

    <canvas id="bg-canvas"></canvas>

    <!-- NAVIGATION -->
    <nav class="app-nav">
        <div class="logo">EJ.<span class="highlight">Research</span></div>
        <div class="nav-center">
            <div class="nav-tabs">
                <button class="nav-btn active" onclick="appNav.switchTab('home')"><i class="fas fa-home"></i> Profile</button>
                <button class="nav-btn" onclick="appNav.switchTab('research')"><i class="fas fa-book"></i> Publications</button>
                <button class="nav-btn" onclick="appNav.switchTab('simulation')"><i class="fas fa-microchip"></i> The Lab</button>
                <button class="nav-btn" onclick="appNav.switchTab('cv')"><i class="fas fa-code-branch"></i> Trajectory</button>
                <button class="nav-btn" onclick="appNav.switchTab('contact')"><i class="fas fa-envelope"></i> Contact</button>
            </div>
        </div>
        <div class="theme-selector">
            <span class="theme-label"><i class="fas fa-palette"></i> UI Mode</span>
            <div class="theme-dots">
                <button class="theme-dot orbital" onclick="appNav.setTheme('orbital')"></button>
                <button class="theme-dot titanium" onclick="appNav.setTheme('titanium')"></button>
                <button class="theme-dot aurora" onclick="appNav.setTheme('aurora')"></button>
                <button class="theme-dot matrix" onclick="appNav.setTheme('matrix')"></button>
                <button class="theme-dot carbon" onclick="appNav.setTheme('carbon')"></button>
            </div>
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <main id="main-container">

        <!-- 1. DASHBOARD -->
        <section id="home" class="view-section active-view">
            <div class="hero-split">
                <div class="hero-intro">
                    <div class="profile-frame">
                        <img src="profile.jpg" onerror="this.src='https://via.placeholder.com/300x300/111/00f2ff?text=Upload+profile.jpg'" alt="Elio Jabbour" class="profile-img">
                        <div class="frame-decor"></div>
                    </div>
                    <div class="glitch-wrapper"><h1 class="glitch" data-text="Elio Jabbour">Elio Jabbour</h1></div>
                    <h2>Ph.D. Researcher @ INRIA</h2>
                    <p class="mission-text">Bridging <strong>human intuition</strong> and <strong>predictive control</strong> via MPC and Haptics.</p>
                </div>
                <div class="dashboard-grid">
                    <div class="dash-card">
                        <span class="dash-label">Key Metric</span>
                        <div class="dash-val highlight">+60%</div>
                        <p>Safety improvement in teleoperation via MPC-B.</p>
                    </div>
                    <div class="dash-card">
                        <span class="dash-label">Core Stack</span>
                        <div class="dash-val">ROS2</div>
                        <p>C++, Python, QP Solvers.</p>
                    </div>
                    <!-- DIRECT CLICK: Opens PhD Project -->
                    <div class="dash-card clickable" onclick="appNav.openProject('mpc')">
                        <span class="dash-label">Primary Research</span>
                        <div class="dash-val">MPC-B</div>
                        <p>Click to view Thesis & Simulation.</p>
                    </div>
                    <div class="dash-card clickable" onclick="appNav.openProject('mpc')">
                        <span class="dash-label">Live Demo</span>
                        <div class="dash-val highlight">Play</div>
                        <p>Interactive Control Sandbox.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 2. PUBLICATIONS -->
        <section id="research" class="view-section">
            <div class="panel-header">
                <h3><i class="fas fa-file-alt"></i> Publications</h3>
            </div>
            <div class="papers-grid">
                <!-- DIRECT CLICK: Opens PhD Project -->
                <div class="paper-card glass-card clickable" onclick="appNav.openProject('mpc')">
                    <div class="paper-type">PhD Thesis (2025)</div>
                    <h4>Shared-Autonomy Control for Human-Robot Collaboration</h4>
                    <p class="abstract">MPC-B Framework validated on Franka Panda. Click to explore full project.</p>
                    <div class="paper-links">
                        <span class="btn-text highlight"><i class="fas fa-arrow-right"></i> View Project & Sim</span>
                    </div>
                </div>
                <div class="paper-card glass-card">
                    <div class="paper-type">Conference Paper</div>
                    <h4>Adaptive Kalman Filtering for Intent Estimation</h4>
                    <p class="abstract">Recursive estimation to filter noisy haptic signals.</p>
                    <div class="paper-links"><a href="#" class="btn-text">View DOI</a></div>
                </div>
            </div>
        </section>

        <!-- 3. THE LAB (MODULARIZED) -->
        <section id="simulation" class="view-section">
            
            <!-- A. The Grid (Menu) -->
            <div id="lab-grid-container">
                <div class="panel-header">
                    <h3><i class="fas fa-flask"></i> The Lab</h3>
                    <p>Select a project to load data.</p>
                </div>
                <div class="lab-grid">
                    <div class="project-card" onclick="appNav.openProject('mpc')">
                        <div class="card-icon"><i class="fas fa-gamepad"></i></div>
                        <div class="card-content">
                            <span class="category-tag">PhD Thesis</span>
                            <h4>MPC-B Sandbox</h4>
                        </div>
                    </div>
                    <div class="project-card" onclick="appNav.openProject('hades')">
                        <div class="card-icon"><i class="fas fa-water"></i></div>
                        <div class="card-content">
                            <span class="category-tag">Underwater Drone</span>
                            <h4>Hades ROV</h4>
                        </div>
                    </div>
                    <div class="project-card" onclick="appNav.openProject('alyssa')">
                        <div class="card-icon"><i class="fas fa-ship"></i></div>
                        <div class="card-content">
                            <span class="category-tag">Marine / CFD</span>
                            <h4>Project ALYSSA</h4>
                        </div>
                    </div>
                    <div class="project-card" onclick="appNav.openProject('haptics')">
                        <div class="card-icon"><i class="fas fa-hand-paper"></i></div>
                        <div class="card-content">
                            <span class="category-tag">Simulation</span>
                            <h4>Haptics</h4>
                        </div>
                    </div>
                </div>
            </div>

            <!-- B. Dynamic Project Container (Empty shell, filled by JS) -->
            <div id="dynamic-project-container" style="display: none;">
                <button class="back-btn" onclick="appNav.closeProject()"><i class="fas fa-arrow-left"></i> Return to Lab</button>
                
                <div class="p-content">
                    <h3 id="dp-title">Project Title</h3>
                    <div class="meta-tags" id="dp-tags"></div>
                    <h5 id="dp-subtitle" style="color: var(--primary); margin-bottom: 20px;">Subtitle</h5>
                    
                    <div id="dp-description"></div>
                    
                    <ul id="dp-details" style="margin-top: 20px; padding-left: 20px; color: #ccc;"></ul>
                </div>

                <!-- Simulation Slot (Only visible for MPC) -->
                <div id="project-mpc-sim-view" style="display: none; margin-top: 30px;">
                    <div class="sim-wrapper glass-panel">
                        <div class="sim-controls">
                            <div class="toggle-switch">
                                <button onclick="robotSim.setMode('linear')" id="btn-linear" class="active">Naive Linear</button>
                                <button onclick="robotSim.setMode('mpc')" id="btn-mpc">MPC-B</button>
                            </div>
                            <div class="stats">
                                <span id="safety-status" class="value safe">OPTIMAL</span>
                            </div>
                        </div>
                        <div class="canvas-container">
                            <canvas id="simCanvas"></canvas>
                            <div class="overlay-ui">
                                <div id="sim-desc" class="desc-toast">Drag Blue Dot.</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </section>

        <!-- 4. CV (TRAJECTORY) -->
        <section id="cv" class="view-section">
            <div class="panel-header"><h3><i class="fas fa-code-branch"></i> Trajectory</h3></div>
            <div class="timeline-container">
                <!-- LINKING: Clicking PhD Card opens Project -->
                <div class="timeline-card current clickable" onclick="appNav.openProject('mpc')" style="cursor: pointer;">
                    <div class="time-marker">2022 - Present</div>
                    <div class="card-body">
                        <h4>PhD Researcher <i class="fas fa-external-link-alt" style="font-size: 0.8rem; color: var(--primary);"></i></h4>
                        <span class="org">INRIA</span>
                        <p>Developed MPC-B. Click to view project details.</p>
                        <div class="stack-mini"><span>ROS2</span><span>MPC</span></div>
                    </div>
                </div>
                <div class="timeline-card clickable" onclick="appNav.openProject('hades')" style="cursor: pointer;">
                    <div class="time-marker">2021</div>
                    <div class="card-body">
                        <h4>Research Intern <i class="fas fa-external-link-alt" style="font-size: 0.8rem; color: var(--primary);"></i></h4>
                        <span class="org">LIRMM</span>
                        <p>Designed Hades Bio-Inspired ROV.</p>
                    </div>
                </div>
                <div class="timeline-card clickable" onclick="appNav.openProject('alyssa')" style="cursor: pointer;">
                    <div class="time-marker">2020</div>
                    <div class="card-body">
                        <h4>Marine Robotics Engineer <i class="fas fa-external-link-alt" style="font-size: 0.8rem; color: var(--primary);"></i></h4>
                        <span class="org">Project ALYSSA</span>
                        <p>Designed a 5-DOF ROV. Validated hydrodynamics via ANSYS Fluent.</p>
                    </div>
                </div>
                <!-- Other cards... -->
            </div>
        </section>

        <!-- 5. CONTACT -->
        <section id="contact" class="view-section">
            <div class="contact-box">
                <h3>Initialize Connection</h3>
                <div class="contact-links">
                    <a href="mailto:eliojabbour98@gmail.com" class="contact-item">Email</a>
                    <a href="https://linkedin.com/in/elio-jabbour" target="_blank" class="contact-item">LinkedIn</a>
                </div>
            </div>
        </section>
    </main>

    <!-- LOAD SCRIPTS (Order matters) -->
    <script src="js/project_data.js"></script> <!-- NEW: Load Database first -->
    <script src="js/navigation.js"></script>    <!-- Load Logic second -->
    <script src="js/background.js"></script>
    <script src="js/simulation.js"></script>

</body>
</html>